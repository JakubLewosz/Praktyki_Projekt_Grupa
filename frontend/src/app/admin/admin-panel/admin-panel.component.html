<div class="admin-layout">
  <div class="sidebar">
    <div class="sidebar-header">Panel Admina</div>
    <nav>
      <button 
        [class.active]="widokGlowny() === 'podmioty'" 
        (click)="zmienWidokGlowny('podmioty')">
        üè¢ Podmioty
      </button>
      
      <button 
        [class.active]="widokGlowny() === 'grupy'" 
        (click)="zmienWidokGlowny('grupy')">
        üìÇ Grupy
      </button>
      
      <button 
        [class.active]="widokGlowny() === 'uzytkownicy'" 
        (click)="zmienWidokGlowny('uzytkownicy')">
        üë• U≈ºytkownicy
      </button>
    </nav>
  </div>

  <div class="content">
    
    <!-- ================= SEKCJA PODMIOTY ================= -->
    @if (widokGlowny() === 'podmioty') {
      
      @if (widokPodrzedny() === 'list') {
        <!-- Dodajemy #podmiotList, by m√≥c wywo≈Çaƒá od≈õwie≈ºenie -->
        <app-podmioty-list 
          #podmiotList 
          (chceDodacNowy)="pokazFormularz()"
          (chceEdytowac)="rozpocznijEdycjePodmiotu($event)">
        </app-podmioty-list>
      }
      
      @if (widokPodrzedny() === 'form') {
        <!-- U≈ºywamy jednej funkcji 'handlePowrot' do obs≈Çugi powrotu -->
        <app-podmiot-form 
          [podmiotDoEdycji]="edytowanyPodmiot()" 
          (powrot)="handlePowrotZFormularza()">
        </app-podmiot-form>
      }
    }

    <!-- ================= SEKCJA GRUPY ================= -->
    @if (widokGlowny() === 'grupy') {
      
      @if (widokPodrzedny() === 'list') {
        <app-grupy-list 
          #grupaList
          (chceDodacNowy)="pokazFormularz()">
        </app-grupy-list>
      }
      
      @if (widokPodrzedny() === 'form') {
        <app-grupa-form 
          (powrot)="handlePowrotZFormularza()">
        </app-grupa-form>
      }
    }

    <!-- ================= SEKCJA U≈ªYTKOWNICY ================= -->
    @if (widokGlowny() === 'uzytkownicy') {
      
      @if (widokPodrzedny() === 'list') {
        <app-uzytkownicy-list 
          #userList
          (chceDodacNowy)="pokazFormularz()"
          (chceEdytowac)="rozpocznijEdycjeUzytkownika($event)"> 
        </app-uzytkownicy-list>
      }
      
      @if (widokPodrzedny() === 'form') {
        <app-uzytkownicy-form 
          [userDoEdycji]="edytowanyUzytkownik()" 
          (powrot)="handlePowrotZFormularza()">
        </app-uzytkownicy-form>
      }
    }

    <!-- USUNƒÑ≈ÅEM STƒÑD ZDUPLIKOWANE BLOKI KODU -->

  </div>
</div>