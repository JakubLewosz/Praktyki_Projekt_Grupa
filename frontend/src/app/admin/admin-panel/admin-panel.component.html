<header class="main-header">
  <h1>System Komunikacji UKNF</h1>
  <button (click)="wyloguj()" class="button-wyloguj">
    Wyloguj (jako: admin)
  </button>
</header>
<div class="admin-layout">
  <div class="sidebar">
    <div class="sidebar-header">Panel Admina</div>
    <nav>
      <button 
        [class.active]="widokGlowny() === 'podmioty'" 
        (click)="zmienWidokGlowny('podmioty')">
        üè¢ Podmioty
      </button>
      
      <button 
        [class.active]="widokGlowny() === 'grupy'" 
        (click)="zmienWidokGlowny('grupy')">
        üìÇ Grupy
      </button>
      
      <button 
        [class.active]="widokGlowny() === 'uzytkownicy'" 
        (click)="zmienWidokGlowny('uzytkownicy')">
        üë• U≈ºytkownicy
      </button>
    </nav>
  </div>

  <div class="content">
    
    @if (widokGlowny() === 'podmioty') {
      
      @if (widokPodrzedny() === 'list') {
        <app-podmioty-list 
          #podmiotList 
          (chceDodacNowy)="pokazFormularz()"
          (chceEdytowac)="rozpocznijEdycjePodmiotu($event)">
        </app-podmioty-list>
      }
      
      @if (widokPodrzedny() === 'form') {
        <app-podmiot-form 
          [podmiotDoEdycji]="edytowanyPodmiot()"
          (powrot)="handlePowrotZFormularza()">
        </app-podmiot-form>
      }
    }

    @if (widokGlowny() === 'grupy') {
      
      @if (widokPodrzedny() === 'list') {
      <app-grupy-list 
        #grupaList
        (chceDodacNowy)="pokazFormularz()"
        (chceZarzadzac)="rozpocznijZarzadzanieGrupa($event)">
      </app-grupy-list>
      }
      
      @if (widokPodrzedny() === 'form') {
        <app-grupa-form (powrot)="handlePowrotZFormularza()"></app-grupa-form>
      }

      @if (widokPodrzedny() === 'details') {
        <app-grupa-details
          [grupaDoEdycji]="edytowanaGrupa()"
          (powrot)="handlePowrotZFormularza()">
        </app-grupa-details>
      }

    }

    @if (widokGlowny() === 'uzytkownicy') {
      
      @if (widokPodrzedny() === 'list') {
        <app-uzytkownicy-list 
          #userList
          (chceDodacNowy)="pokazFormularz()"
          (chceEdytowac)="rozpocznijEdycjeUzytkownika($event)"> 
        </app-uzytkownicy-list>
      }
      
      @if (widokPodrzedny() === 'form') {
        <app-uzytkownicy-form 
          [userDoEdycji]="edytowanyUzytkownik()" 
          (powrot)="handlePowrotZFormularza()">
        </app-uzytkownicy-form>
      }
    }

  </div>
</div>